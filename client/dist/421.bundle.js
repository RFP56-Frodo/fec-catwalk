"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[421],{3421:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(7294),c=n.n(r),o=n(9669),a=n.n(o),l=n(6546);const u=function(e){return c().createElement("div",{className:"comparison-modal",onClick:function(e){return e.stopPropagation()},style:e.darkMode?{background:"rgba(82, 82, 82, 0.938)"}:{}},c().createElement("p",null,e.currentProduct.name),c().createElement("p",null,e.comparedProduct.name))};var i=n(9583),s=n(8406),d=void 0;function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,c,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,c=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw c}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const p=function(e){var t=f((0,r.useState)(null),2),n=t[0],o=t[1],u=f((0,r.useState)(null),2),m=u[0],p=u[1],h=f((0,r.useState)(null),2),g=h[0],y=h[1];(0,r.useEffect)((function(){return E(),b(),v(),function(){o(null),p(null),y(null)}}),[]);var E=function(){a().get("/products/".concat(e.productId)).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))},b=function(){a().get("/products/".concat(e.productId,"/styles")).then((function(e){p(e.data.results[0])})).catch((function(e){console.log(e)}))},v=function(){a().get("/reviews/".concat(e.productId)).then((function(e){y(e.data.results)})).catch((function(e){console.log(e)}))};return null===n||null===m||null===g?"":c().createElement(s.Z,{eventName:"Product - ".concat(n.name," was clicked"),module:"Related Products"},c().createElement("div",{className:"product-card",onClick:function(){e.fetchNewProduct(e.productId)}.bind(d),style:e.darkMode?{backgroundColor:"#2a2c29",border:"1px solid #808080"}:{}},c().createElement("div",{className:"info-container"},c().createElement(i.jJN,{onClick:function(t){t.stopPropagation(),e.handleModalClick(n)}.bind(d),className:"info-btn"}),m.photos[0].thumbnail_url?c().createElement("img",{src:m.photos[0].thumbnail_url,height:"220",alt:"product img for "+m.name}):c().createElement("img",{src:"./img/image-not-found.webp",height:"220",alt:"product img not available"})),c().createElement("h3",null,"CATEGORY: ",n.category.toUpperCase()),c().createElement("h2",{className:"product-name"},n.name),m.sale_price?c().createElement("h3",null,c().createElement("span",{style:{color:"red",fontWeight:"bold"}},"$",m.sale_price)," ",c().createElement("span",{style:{textDecorationLine:"line-through"}},"$",m.original_price)):c().createElement("h3",null,"$",m.original_price),c().createElement(l.Z,{rating:g.reduce((function(e,t){return t.rating+e}),0)/g.length})))};var h=n(5434),g=void 0;function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,c,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,c=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw c}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const b=function(e){var t=y((0,r.useState)(null),2),n=t[0],o=t[1],l=y((0,r.useState)(0),2),i=l[0],s=l[1],d=y((0,r.useState)(500),2),f=d[0],m=d[1],E=y((0,r.useState)(null),2),b=E[0],v=E[1],k=y((0,r.useState)(!1),2),w=k[0],N=k[1],S=(0,r.useRef)();(0,r.useEffect)((function(){return C(),function(){o(null)}}),[]);var C=function(){a().get("/products/".concat(e.currentProduct.id,"/related")).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))},P=function(e){var t=document.getElementById("products-slide");m(t.scrollHeight),s("right"===e?t.scrollLeft+=800:t.scrollLeft-=680)},A=function(){P("left")},I=function(){P("right")},M=function(e){v(e),N(!0)};return function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};(0,r.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}(S,(function(){w&&N(!1)})),null===n?"":c().createElement("div",{className:"products-container"},c().createElement("h2",{className:"list-title"},"RELATED PRODUCTS"),c().createElement("div",{ref:S},w&&b?c().createElement(u,{currentProduct:e.currentProduct,comparedProduct:b,darkMode:e.darkMode}):null),c().createElement("div",{className:"scroll-container"},i>0?c().createElement("button",{className:"arrow","aria-label":"Justify",onClick:A.bind(g),style:e.darkMode?{color:"#f3f3f3"}:{}},c().createElement(h.rpj,{onClick:A.bind(g)})):"",c().createElement("div",{className:"horizontal-slide",id:"products-slide"},n.map((function(t,n){return c().createElement(p,{productId:t,fetchNewProduct:e.fetchNewProduct.bind(g),currentProduct:e.currentProduct,key:n,handleModalClick:M,darkMode:e.darkMode})}))),n.length>4&&i<f?c().createElement("button",{className:"arrow","aria-label":"Justify",onClick:I.bind(g),style:e.darkMode?{color:"#f3f3f3"}:{}},c().createElement(h.KEG,{onClick:I.bind(g)})):""))}},6546:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294),c=n.n(r),o=n(6738);const a=function(e){return"".concat(e.rating/5*100,"%"),c().createElement(o.N.Consumer,null,(function(t){return c().createElement("div",{className:"star-ratings",style:t?{width:"80px",WebkitTextStroke:"1px #999",color:"#1f1e1e"}:{width:"80px"}},c().createElement("div",{className:"fill-ratings",style:t?{width:"".concat(e.rating/5*100,"%"),color:"white"}:{width:"".concat(e.rating/5*100,"%")}},c().createElement("span",null,"★★★★★")),c().createElement("div",{className:"empty-ratings"},c().createElement("span",null,"★★★★★")))}))}}}]);